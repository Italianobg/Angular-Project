<div class="content">

    <div class='main'>
        <ul>
            <li>
                <div>
                    <h1>Repair Request</h1>
                </div>
            </li>
        </ul>
        <!-- row-container -->

        <div>
            <div>
                <div>
                    <ul>
                        <li>
                            <div>
                                <p>
                                    Please fill in the form, write down the generated number send the phone to the address. We will get back to you as soon as possible.
                                </p>
                            </div>
                        </li>
                    </ul>
                    <!-- row-container -->
                </div>
                <div>
                    <div>
                        <ul>
                            <form #requestF="ngForm" (ngSubmit)="repairRequest(requestF.value)">
                                <li class='main-form'>

                                    <div class='form'>

                                        <label for="name" class="field_name"> Name *</label>
                                        <input #name="ngModel" [class.input-error]="name.touched && !!name.errors" type="name" name="name" id="name" ngModel required />
                                        <p *ngIf="name.touched && name.errors?.required"> Name is required! </p>

                                        <label for="email" class="field_name">E-mail *</label>
                                        <input #email="ngModel" type="email" name="email" id="email" [(ngModel)]="currentUser.email" disabled/>

                                        <label for="subject" class="field_name">Subject *</label>
                                        <input #subject="ngModel" [class.input-error]="subject.touched && !!subject.errors" type="subject" name="subject" id="subject" ngModel required minlength="5" />
                                        <p *ngIf="subject.touched && subject.errors?.required"> Subject is required! </p>
                                        <p *ngIf="subject.touched && subject.errors?.minlength"> Subject should be at least 5 characters! </p>

                                        <label>Device *</label>
                                        <select ngModel (ngModelChange)="selectedDeviceHandler($event)" name="sDevice" required>
                                            <option value="" disabled selected>Choose your device!</option>
                                            <option *ngFor="let device of devices" [value]="device.id" >
                                                {{device.data.name }}
                                            </option>                    
                                        </select>

                                        <label>Service *</label>
                                        <select ngModel (ngModelChange)="selectedServiceHandler($event)" name="sService" required>
                                            <option value="" disabled selected>Choose required service!</option>
                                            <option *ngFor="let service of currentServices" [value]="service.service" >
                                                {{ service.name }}
                                            </option>                    
                                        </select>

                                        <label for="message" class="field_name">Message *</label>
                                        <textarea #message="ngModel" [class.input-error]="message.touched && !!message.errors" type="message" name="message" id="message" ngModel required maxlength="1000"></textarea>
                                        <p *ngIf="message.touched && message.errors?.required"> Device description is required! </p>
                                        <p *ngIf="message.touched && message.errors?.maxlength"> Device description is too long! </p>


                                        <div class='middle'>
                                            <button [disabled]="requestF.invalid" class="form-button" type="submit" value="Submit"> Submit Repair Request </button>
                                        </div>
                                    </div>


                                </li>
                            </form>
                        </ul>
                    </div>
                    <!-- row-container -->
                </div>
            </div>
        </div>

    </div>
    <!-- row-container -->

</div>